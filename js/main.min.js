const burgerBtn = document.querySelector('.burger');
const headerNavigation = document.querySelector('.header__navigation');
const headerBackdrop = document.querySelector('.header__backdrop');

function calcScroll() {
  let div = document.createElement('div');
  div.style.width = '50px';
  div.style.height = '50px';
  div.style.overflowY = 'scroll';
  div.style.visibility = 'hidden';
  div.style.opacity = '0';

  document.body.appendChild(div);
  let scrollWidth = div.offsetWidth - div.clientWidth;
  div.remove();

  return scrollWidth;
};

let scrollWidth = calcScroll();

burgerBtn.addEventListener('click', () => {
  burgerBtn.classList.toggle('active');
  headerNavigation.classList.toggle('active');
  headerBackdrop.style.display = 'block';

  if (burgerBtn.classList.contains('active')) {
    document.body.style.width = `calc(100% - ${scrollWidth}px)`;
    document.body.style.overflow = 'hidden';
  } else {
    document.body.style.overflow = 'visible';
    document.body.style.width = '100%';
  };
});

headerBackdrop.addEventListener('click', () => {
  if (burgerBtn.classList.contains('active') & headerNavigation.classList.contains('active')) {
    burgerBtn.classList.remove('active');
    headerNavigation.classList.remove('active');
    document.body.style.overflow = 'visible';
    document.body.style.width = '100%';
    headerBackdrop.style.display = 'none';
  }
});

const projectsSwiper = new Swiper('.projects__swiper', {
  allowTouchMove: false,
  navigation: {
    nextEl: '.projects__button-next',
    prevEl: '.projects__button-prev',
  },
  breakpoints: {
    320: {
      slidesPerView: 1,
      spaceBetween: 20
    },
    450: {
      slidesPerView: 1.2,
      spaceBetween: 20,
    },
    550: {
      slidesPerView: 1.5,
      spaceBetween: 20,
    },
    700: {
      slidesPerView: 2,
      spaceBetween: 20,
    },
    800: {
      slidesPerView: 2,
      spaceBetween: 20,
      centeredSlides: false,
    },
    850: {
      slidesPerView: 2.5,
      spaceBetween: 20,
      centeredSlides: false,
    },
    1100: {
      slidesPerView: 3,
      centeredSlides: false
    },
    1250: {
      slidesPerView: 3.5,
      centeredSlides: false
    },
    1500: {
      slidesPerView: 4
    }
  }
});

const examplesSwiper = new Swiper('.examples__swiper', {
  loop: false,
  slidesPerView: 'auto',
  spaceBetween: 54,
  centeredSlides: false,
  allowTouchMove: false,
  centeredSlidesBounds: true,
  slidesPerGroup: 1,
  pagination: {
    el: '.examples__swiper-pagination',
    clickable: true,
  },
  navigation: {
    nextEl: '.examples__button-next',
    prevEl: '.examples__button-prev',
  },
  breakpoints: {
    1300: {
      spaceBetween: 80,
    },
    1500: {
      centeredSlides: true,
      slidesPerView: 3,
      spaceBetween: 80,
    }
  }
});

const resultsSwiper = new Swiper('.results__swiper', {
  loop: false,
  slidesPerView: 1,
  allowTouchMove: false,
  effect: 'flip',
  speed: 1100,
  spaceBetween: 19,
  pagination: {
    el: '.results__swiper-pagination',
    clickable: false,
  },
  navigation: {
    nextEl: '.results__button-next',
    prevEl: '.results__button-prev',
  },
});

const aboutLeaderSwiper = new Swiper('.about-leader__swiper', {
  loop: false,
  slidesPerView: 1,
  allowTouchMove: false,
  speed: 1100,
  autoHeight: true,
  spaceBetween: 40,
  pagination: {
    el: '.about-leader__swiper-pagination',
    clickable: true,
  },
  navigation: {
    nextEl: '.about-leader__swiper-button-next',
    prevEl: '.about-leader__swiper-button-prev',
  },
  breakpoints: {
    400: {
      slidesPerView: 'auto'
    },
    992: {
      spaceBetween: 40
    },
    1400: {
      slidesPerView: 3,
    }
  }
});